<div class="container">
  <% if current_user.is_admin %>
    <div class="restaurant-feature-toolbar">
      <%= react_component('MenuToolbar', {restaurant: @restaurant, menus: @menus}) %>
    </div>
  <% end %>

  <div class="restaurant-menu">
    <h1 class="restaurant-title"><%= @restaurant.name %></h1>
    <% @menus.each do |menu| %>
      <!-- show only the available menu -->
      <% if !current_user.is_admin  && menu.should_be_available? && menu.available? %>
        <h2 class="menu-title"><%= menu.name %> </h2>
        <hr />
        <%= react_component('DishesIndex', {admin: current_user.is_admin, dishes: menu.dishes.with_available_state}) %>
      <% else %>
      <!-- show all menus -->
        <h2 class="menu-title"><%= menu.name %> </h2>
        <hr />
        <div class="menu-state">
          State: <%= menu.state %>
          <%= menu.change_state %>
        </div>
        <div class="menu-availability">
          <%= menu.time_available %>
        </div>        
        <%= react_component('DishesIndex', {admin: current_user.is_admin, dishes: menu.dishes}) %>
      <% end %>
    <% end %>
  </div>
</div>
